{"ast":null,"code":"var _jsxFileName = \"D:\\\\Projet\\\\Nouveau dossier\\\\THETIPTOP_GAME\\\\frontend\\\\src\\\\pages\\\\Dashbords\\\\ClientDashboard.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\n// import { Link } from 'react-router-dom';\nimport axios from 'axios';\nimport { UserIcon, MailIcon, PhoneIcon, TicketIcon, CalendarIcon, GiftIcon } from '@heroicons/react/outline'; // Assuming heroicons are installed\nimport DashboardLayout from '../../components/DashboardLayout'; // Adjust path if needed\n// Removed: import './client.css';\nimport './client.css';\n\n// Simple SVG placeholder for Gift Icon if Heroicons not available\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst DefaultGiftIcon = () => /*#__PURE__*/_jsxDEV(\"svg\", {\n  fill: \"none\",\n  stroke: \"currentColor\",\n  viewBox: \"0 0 24 24\",\n  children: /*#__PURE__*/_jsxDEV(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    strokeWidth: \"2\",\n    d: \"M12 8v13m0-13V6a2 2 0 112 2h-2zm0 0V5.5A2.5 2.5 0 109.5 8H12zm-7 4h14M5 12a2 2 0 110-4h14a2 2 0 110 4H5z\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 10,\n    columnNumber: 90\n  }, this)\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 10,\n  columnNumber: 31\n}, this);\n\n// Define icons - Use Heroicons if available, otherwise use simple SVGs (Removed classes from fallbacks)\n_c = DefaultGiftIcon;\nconst ProfileIcon = UserIcon || (() => /*#__PURE__*/_jsxDEV(\"svg\", {\n  fill: \"none\",\n  viewBox: \"0 0 24 24\",\n  stroke: \"currentColor\",\n  children: /*#__PURE__*/_jsxDEV(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    strokeWidth: \"2\",\n    d: \"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 13,\n    columnNumber: 99\n  }, this)\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 13,\n  columnNumber: 40\n}, this));\nconst EmailIcon = MailIcon || (() => /*#__PURE__*/_jsxDEV(\"svg\", {\n  fill: \"none\",\n  viewBox: \"0 0 24 24\",\n  stroke: \"currentColor\",\n  children: /*#__PURE__*/_jsxDEV(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    strokeWidth: \"2\",\n    d: \"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 14,\n    columnNumber: 97\n  }, this)\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 14,\n  columnNumber: 38\n}, this));\nconst TelephoneIcon = PhoneIcon || (() => /*#__PURE__*/_jsxDEV(\"svg\", {\n  fill: \"none\",\n  viewBox: \"0 0 24 24\",\n  stroke: \"currentColor\",\n  children: /*#__PURE__*/_jsxDEV(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    strokeWidth: \"2\",\n    d: \"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 15,\n    columnNumber: 102\n  }, this)\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 15,\n  columnNumber: 43\n}, this));\nconst GainTicketIcon = TicketIcon || (() => /*#__PURE__*/_jsxDEV(\"svg\", {\n  fill: \"none\",\n  viewBox: \"0 0 24 24\",\n  stroke: \"currentColor\",\n  children: /*#__PURE__*/_jsxDEV(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    strokeWidth: \"2\",\n    d: \"M15 5v2m0 4v2m0 4v2M5 5a2 2 0 00-2 2v3a2 2 0 110 4v3a2 2 0 002 2h14a2 2 0 002-2v-3a2 2 0 110-4V7a2 2 0 00-2-2H5z\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 16,\n    columnNumber: 104\n  }, this)\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 16,\n  columnNumber: 45\n}, this));\nconst GainCalendarIcon = CalendarIcon || (() => /*#__PURE__*/_jsxDEV(\"svg\", {\n  fill: \"none\",\n  viewBox: \"0 0 24 24\",\n  stroke: \"currentColor\",\n  children: /*#__PURE__*/_jsxDEV(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    strokeWidth: \"2\",\n    d: \"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 17,\n    columnNumber: 108\n  }, this)\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 17,\n  columnNumber: 49\n}, this));\nconst GainPrizeIcon = GiftIcon || DefaultGiftIcon;\nconst ClientDashboard = () => {\n  _s();\n  const [userData, setUserData] = useState(null);\n  const [isLoadingProfile, setIsLoadingProfile] = useState(true);\n  const [errorProfile, setErrorProfile] = useState(null);\n  const [isEditing, setIsEditing] = useState(false);\n  const [formData, setFormData] = useState({}); // State for form data during edit\n  const [updateSuccess, setUpdateSuccess] = useState(null);\n  const [updateError, setUpdateError] = useState(null);\n\n  // State for gains data\n  const [gainsData, setGainsData] = useState([]);\n  const [isLoadingGains, setIsLoadingGains] = useState(false);\n  const [errorGains, setErrorGains] = useState(null);\n  useEffect(() => {\n    const fetchUserData = async () => {\n      setIsLoadingProfile(true);\n      setErrorProfile(null);\n      const token = localStorage.getItem('token');\n      if (!token) {\n        setErrorProfile('Authentication token not found. Please log in.');\n        setIsLoadingProfile(false);\n        return;\n      }\n      try {\n        const response = await axios.get(`${process.env.REACT_APP_API_URL}/user/me`, {\n          //local\n          // axios.post(`${process.env.REACT_APP_API_URL}/auth/register`, payload);\n\n          // const response = await axios.get('https://www.backend.dsp5-archi-f24a-15m-g8.fr/api/user/me', { //VPS\n          headers: {\n            'Authorization': `Bearer ${token}`\n          }\n        });\n        if (response.data.success) {\n          setUserData(response.data.user);\n          setFormData(response.data.user); // Initialize form data\n        } else {\n          throw new Error(response.data.message || 'Failed to fetch user data.');\n        }\n      } catch (err) {\n        var _err$response, _err$response2;\n        console.error(\"Error fetching user data:\", err);\n        if (((_err$response = err.response) === null || _err$response === void 0 ? void 0 : _err$response.status) === 401 || ((_err$response2 = err.response) === null || _err$response2 === void 0 ? void 0 : _err$response2.status) === 403) {\n          setErrorProfile('Session expired or invalid. Please log in again.');\n          localStorage.removeItem('token'); // Clear invalid token\n          // Optionally redirect to login\n        } else {\n          setErrorProfile(err.message || 'An error occurred while fetching user data.');\n        }\n      } finally {\n        setIsLoadingProfile(false);\n      }\n    };\n    fetchUserData();\n  }, []); // Empty dependency array ensures this runs only once on mount\n\n  // Function to fetch gains\n  const fetchGains = async () => {\n    setIsLoadingGains(true);\n    setErrorGains(null);\n    setGainsData([]); // Clear previous gains\n    const token = localStorage.getItem('token');\n    if (!token) {\n      setErrorGains('Authentication token missing.');\n      setIsLoadingGains(false);\n      return;\n    }\n    try {\n      // const response = await axios.get('https://www.backend.dsp5-archi-f24a-15m-g8.fr/api/user/my-gains', {\n      const response = await axios.get(`${process.env.REACT_APP_API_URL}/user/my-gains`, {\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      if (response.data.success) {\n        setGainsData(response.data.gains); // Assuming backend returns { success: true, gains: [...] }\n      } else {\n        // Handle cases where success is false but not an error (e.g., no gains found)\n        setErrorGains(response.data.message || 'Could not fetch winnings.');\n      }\n    } catch (err) {\n      var _err$response3, _err$response4;\n      console.error(\"Error fetching gains:\", err);\n      if (((_err$response3 = err.response) === null || _err$response3 === void 0 ? void 0 : _err$response3.status) === 401 || ((_err$response4 = err.response) === null || _err$response4 === void 0 ? void 0 : _err$response4.status) === 403) {\n        setErrorGains('Session expired or invalid. Please log in again.');\n        localStorage.removeItem('token');\n      } else {\n        setErrorGains(err.message || 'An error occurred while fetching winnings.');\n      }\n    } finally {\n      setIsLoadingGains(false);\n    }\n  };\n\n  // Fetch gains when component mounts after profile is loaded\n  useEffect(() => {\n    if (userData) {\n      // Only fetch gains if user data is available\n      fetchGains();\n    }\n  }, [userData]); // Rerun when userData changes (i.e., after initial load)\n\n  const handleEditToggle = () => {\n    setIsEditing(!isEditing);\n    setUpdateSuccess(null); // Clear messages\n    setUpdateError(null);\n    if (!isEditing && userData) {\n      setFormData(userData); // Reset form data on entering edit mode\n    }\n  };\n  const handleFormChange = e => {\n    setFormData({\n      ...formData,\n      [e.target.name]: e.target.value\n    });\n    setUpdateSuccess(null); // Clear messages\n    setUpdateError(null);\n  };\n  const handleProfileUpdate = async e => {\n    e.preventDefault();\n    setIsLoadingProfile(true);\n    setUpdateSuccess(null);\n    setUpdateError(null);\n    const token = localStorage.getItem('token');\n    if (!token) {\n      setUpdateError('Authentication token missing.');\n      setIsLoadingProfile(false);\n      return;\n    }\n\n    // Send the entire formData, but filter out specific non-editable fields\n    const payload = {\n      ...formData\n    };\n    delete payload._id;\n    delete payload.email;\n    delete payload.userType;\n    delete payload.createdAt;\n    delete payload.updatedAt;\n    delete payload.__v;\n    // If password change is handled separately, ensure it's not sent here\n    delete payload.password;\n    // Add any other fields that should NEVER be sent from the client\n\n    try {\n      const response = await axios.put(`${process.env.REACT_APP_API_URL}/user/updateprofile`, payload, {\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      if (response.data.success) {\n        setUserData(response.data.user);\n        setFormData(response.data.user);\n        setIsEditing(false);\n        setUpdateSuccess('Profil mis à jour avec succès!');\n      } else {\n        throw new Error(response.data.message || 'Failed to update profile.');\n      }\n    } catch (err) {\n      var _err$response5, _err$response5$data;\n      console.error(\"Error updating profile:\", err);\n      setUpdateError(((_err$response5 = err.response) === null || _err$response5 === void 0 ? void 0 : (_err$response5$data = _err$response5.data) === null || _err$response5$data === void 0 ? void 0 : _err$response5$data.message) || err.message || 'An error occurred while updating profile.');\n    } finally {\n      setIsLoadingProfile(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(DashboardLayout, {\n    userType: \"client\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"text-2xl font-semibold text-gray-900 mb-6\",\n      children: \"Bienvenue sur votre Espace Profil\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 7\n    }, this), isLoadingProfile && !userData && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-gray-600\",\n      children: \"Chargement de vos informations...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 41\n    }, this), errorProfile && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6\",\n      role: \"alert\",\n      children: /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"block sm:inline\",\n        children: errorProfile\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 12\n    }, this), userData && !isLoadingProfile && !errorProfile && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 gap-8\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white p-6 rounded-lg shadow-md border border-gray-200\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-between items-center mb-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-xl font-semibold text-gray-800\",\n            children: \"Mes Informations\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 205,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleEditToggle,\n            className: `px-4 py-1 border border-transparent text-sm font-medium rounded-md shadow-sm ${isEditing ? 'text-gray-700 bg-gray-200 hover:bg-gray-300' : 'text-white bg-teal-600 hover:bg-teal-700'}`,\n            children: isEditing ? 'Annuler' : 'Modifier'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 206,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 13\n        }, this), updateSuccess && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-green-100 border border-green-400 text-green-700 px-4 py-2 rounded relative mb-4 text-sm\",\n          role: \"alert\",\n          children: updateSuccess\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 17\n        }, this), updateError && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-red-100 border border-red-400 text-red-700 px-4 py-2 rounded relative mb-4 text-sm\",\n          role: \"alert\",\n          children: updateError\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 17\n        }, this), !isEditing ?\n        /*#__PURE__*/\n        // --- Display Mode (Enhanced) ---\n        _jsxDEV(\"div\", {\n          className: \"space-y-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center p-3 border-b border-gray-100\",\n            children: [/*#__PURE__*/_jsxDEV(ProfileIcon, {\n              className: \"h-4 w-4 text-gray-500 mr-3\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 229,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-gray-600 font-medium mr-2\",\n              children: \"Nom d'utilisateur:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 230,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-gray-800\",\n              children: userData.userName\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 231,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 228,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center p-3 border-b border-gray-100\",\n            children: [/*#__PURE__*/_jsxDEV(EmailIcon, {\n              className: \"h-4 w-4 text-gray-500 mr-3\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 234,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-gray-600 font-medium mr-2\",\n              children: \"Email:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 235,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-gray-800\",\n              children: userData.email\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 236,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 233,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center p-3\",\n            children: [/*#__PURE__*/_jsxDEV(TelephoneIcon, {\n              className: \"h-4 w-4 text-gray-500 mr-3\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 239,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-gray-600 font-medium mr-2\",\n              children: \"T\\xE9l\\xE9phone:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 240,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-gray-800\",\n              children: userData.phone || 'Non renseigné'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 241,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 238,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 227,\n          columnNumber: 17\n        }, this) :\n        /*#__PURE__*/\n        // --- Edit Mode Form ---\n        _jsxDEV(\"form\", {\n          className: \"space-y-4\",\n          onSubmit: handleProfileUpdate,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"userName\",\n              className: \"block text-sm font-medium text-gray-700\",\n              children: \"Nom d'utilisateur\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 248,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              name: \"userName\",\n              id: \"userName\",\n              required: true,\n              value: formData.userName || '',\n              onChange: handleFormChange,\n              className: \"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-teal-500 focus:border-teal-500 sm:text-sm\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 249,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 247,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"email\",\n              className: \"block text-sm font-medium text-gray-700\",\n              children: \"Email\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 260,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"email\",\n              name: \"email\",\n              id: \"email\",\n              value: formData.email || '',\n              readOnly: true,\n              className: \"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm bg-gray-100 cursor-not-allowed focus:outline-none sm:text-sm\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 261,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 259,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"phone\",\n              className: \"block text-sm font-medium text-gray-700\",\n              children: \"T\\xE9l\\xE9phone\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 271,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"tel\" // Use tel type for phone numbers\n              ,\n              name: \"phone\",\n              id: \"phone\",\n              value: formData.phone || '',\n              onChange: handleFormChange,\n              className: \"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-teal-500 focus:border-teal-500 sm:text-sm\",\n              placeholder: \"e.g., 06 12 34 56 78\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 272,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 270,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-end gap-4 mt-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: handleEditToggle,\n              className: \"px-4 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300 transition duration-150 ease-in-out\",\n              children: \"Annuler\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 287,\n              columnNumber: 23\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition duration-150 ease-in-out\",\n              disabled: isLoadingProfile // Reuse profile loading state for update\n              ,\n              children: isLoadingProfile ? 'Sauvegarde...' : 'Sauvegarder les modifications'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 294,\n              columnNumber: 23\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 286,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 246,\n          columnNumber: 17\n        }, this), updateSuccess && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-4 bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded relative\",\n          role: \"alert\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"block sm:inline\",\n            children: updateSuccess\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 307,\n            columnNumber: 19\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 306,\n          columnNumber: 15\n        }, this), updateError && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-4 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative\",\n          role: \"alert\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"block sm:inline\",\n            children: updateError\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 312,\n            columnNumber: 19\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 311,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-8 bg-white p-6 rounded-lg shadow-md border border-gray-200\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-xl font-semibold text-gray-800 mb-4\",\n          children: \"Mes Gains Pass\\xE9s\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 319,\n          columnNumber: 15\n        }, this), isLoadingGains && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-600\",\n          children: \"Chargement des gains...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 321,\n          columnNumber: 34\n        }, this), errorGains && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-4\",\n          role: \"alert\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"block sm:inline\",\n            children: [\"Erreur lors du chargement des gains: \", errorGains]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 325,\n            columnNumber: 23\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 324,\n          columnNumber: 19\n        }, this), !isLoadingGains && !errorGains && (gainsData.length > 0 ? /*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"space-y-4\",\n          children: gainsData.map(gain => /*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"border-b border-gray-200 pb-4 last:border-b-0\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center space-x-3\",\n              children: [/*#__PURE__*/_jsxDEV(GainTicketIcon, {\n                className: \"h-6 w-6 text-indigo-500\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 335,\n                columnNumber: 39\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"font-medium text-gray-700\",\n                children: \"Code Ticket:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 336,\n                columnNumber: 39\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-gray-900\",\n                children: gain.ticketNumber\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 337,\n                columnNumber: 39\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 334,\n              columnNumber: 35\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center space-x-3 mt-2\",\n              children: [/*#__PURE__*/_jsxDEV(GainPrizeIcon, {\n                className: \"h-6 w-6 text-green-500\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 340,\n                columnNumber: 39\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"font-medium text-gray-700\",\n                children: \"Lot:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 341,\n                columnNumber: 39\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-gray-900\",\n                children: [gain.prizeWon, \" (\", gain.prizeValue, \"\\u20AC)\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 342,\n                columnNumber: 39\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 339,\n              columnNumber: 35\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center space-x-3 mt-2\",\n              children: [/*#__PURE__*/_jsxDEV(GainCalendarIcon, {\n                className: \"h-6 w-6 text-blue-500\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 345,\n                columnNumber: 39\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"font-medium text-gray-700\",\n                children: \"Date:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 346,\n                columnNumber: 39\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-gray-600 text-sm\",\n                children: new Date(gain.createdAt).toLocaleDateString('fr-FR', {\n                  year: 'numeric',\n                  month: 'long',\n                  day: 'numeric',\n                  hour: '2-digit',\n                  minute: '2-digit'\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 347,\n                columnNumber: 39\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 344,\n              columnNumber: 35\n            }, this)]\n          }, gain._id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 333,\n            columnNumber: 31\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 331,\n          columnNumber: 23\n        }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-600\",\n          children: \"Vous n'avez pas encore enregistr\\xE9 de gains.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 358,\n          columnNumber: 23\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 318,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 186,\n    columnNumber: 5\n  }, this);\n};\n_s(ClientDashboard, \"T/NMkZvxrBBsXFRZrs6juM9nyvc=\");\n_c2 = ClientDashboard;\nexport default ClientDashboard;\nvar _c, _c2;\n$RefreshReg$(_c, \"DefaultGiftIcon\");\n$RefreshReg$(_c2, \"ClientDashboard\");","map":{"version":3,"names":["React","useState","useEffect","axios","UserIcon","MailIcon","PhoneIcon","TicketIcon","CalendarIcon","GiftIcon","DashboardLayout","jsxDEV","_jsxDEV","DefaultGiftIcon","fill","stroke","viewBox","children","strokeLinecap","strokeLinejoin","strokeWidth","d","fileName","_jsxFileName","lineNumber","columnNumber","_c","ProfileIcon","EmailIcon","TelephoneIcon","GainTicketIcon","GainCalendarIcon","GainPrizeIcon","ClientDashboard","_s","userData","setUserData","isLoadingProfile","setIsLoadingProfile","errorProfile","setErrorProfile","isEditing","setIsEditing","formData","setFormData","updateSuccess","setUpdateSuccess","updateError","setUpdateError","gainsData","setGainsData","isLoadingGains","setIsLoadingGains","errorGains","setErrorGains","fetchUserData","token","localStorage","getItem","response","get","process","env","REACT_APP_API_URL","headers","data","success","user","Error","message","err","_err$response","_err$response2","console","error","status","removeItem","fetchGains","gains","_err$response3","_err$response4","handleEditToggle","handleFormChange","e","target","name","value","handleProfileUpdate","preventDefault","payload","_id","email","userType","createdAt","updatedAt","__v","password","put","_err$response5","_err$response5$data","className","role","onClick","userName","phone","onSubmit","htmlFor","type","id","required","onChange","readOnly","placeholder","disabled","length","map","gain","ticketNumber","prizeWon","prizeValue","Date","toLocaleDateString","year","month","day","hour","minute","_c2","$RefreshReg$"],"sources":["D:/Projet/Nouveau dossier/THETIPTOP_GAME/frontend/src/pages/Dashbords/ClientDashboard.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\n// import { Link } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport { UserIcon, MailIcon, PhoneIcon, TicketIcon, CalendarIcon, GiftIcon } from '@heroicons/react/outline'; // Assuming heroicons are installed\r\nimport DashboardLayout from '../../components/DashboardLayout'; // Adjust path if needed\r\n// Removed: import './client.css';\r\nimport './client.css';\r\n\r\n// Simple SVG placeholder for Gift Icon if Heroicons not available\r\nconst DefaultGiftIcon = () => <svg fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M12 8v13m0-13V6a2 2 0 112 2h-2zm0 0V5.5A2.5 2.5 0 109.5 8H12zm-7 4h14M5 12a2 2 0 110-4h14a2 2 0 110 4H5z\" /></svg>;\r\n\r\n// Define icons - Use Heroicons if available, otherwise use simple SVGs (Removed classes from fallbacks)\r\nconst ProfileIcon = UserIcon || (() => <svg fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z\" /></svg>); \r\nconst EmailIcon = MailIcon || (() => <svg fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z\" /></svg>);\r\nconst TelephoneIcon = PhoneIcon || (() => <svg fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z\" /></svg>);\r\nconst GainTicketIcon = TicketIcon || (() => <svg fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M15 5v2m0 4v2m0 4v2M5 5a2 2 0 00-2 2v3a2 2 0 110 4v3a2 2 0 002 2h14a2 2 0 002-2v-3a2 2 0 110-4V7a2 2 0 00-2-2H5z\" /></svg>);\r\nconst GainCalendarIcon = CalendarIcon || (() => <svg fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z\" /></svg>);\r\nconst GainPrizeIcon = GiftIcon || DefaultGiftIcon;\r\n\r\nconst ClientDashboard = () => {\r\n  const [userData, setUserData] = useState(null);\r\n  const [isLoadingProfile, setIsLoadingProfile] = useState(true);\r\n  const [errorProfile, setErrorProfile] = useState(null);\r\n  const [isEditing, setIsEditing] = useState(false);\r\n  const [formData, setFormData] = useState({}); // State for form data during edit\r\n  const [updateSuccess, setUpdateSuccess] = useState(null);\r\n  const [updateError, setUpdateError] = useState(null);\r\n\r\n  // State for gains data\r\n  const [gainsData, setGainsData] = useState([]);\r\n  const [isLoadingGains, setIsLoadingGains] = useState(false);\r\n  const [errorGains, setErrorGains] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const fetchUserData = async () => {\r\n      setIsLoadingProfile(true);\r\n      setErrorProfile(null);\r\n      const token = localStorage.getItem('token');\r\n\r\n      if (!token) {\r\n        setErrorProfile('Authentication token not found. Please log in.');\r\n        setIsLoadingProfile(false);\r\n        return;\r\n      }\r\n\r\n      try {\r\n        const response = await axios.get(`${process.env.REACT_APP_API_URL}/user/me`, {  //local\r\n          // axios.post(`${process.env.REACT_APP_API_URL}/auth/register`, payload);\r\n\r\n        // const response = await axios.get('https://www.backend.dsp5-archi-f24a-15m-g8.fr/api/user/me', { //VPS\r\n          headers: {\r\n            'Authorization': `Bearer ${token}`\r\n          }\r\n        });\r\n\r\n        if (response.data.success) {\r\n          setUserData(response.data.user);\r\n          setFormData(response.data.user); // Initialize form data\r\n        } else {\r\n          throw new Error(response.data.message || 'Failed to fetch user data.');\r\n        }\r\n      } catch (err) {\r\n        console.error(\"Error fetching user data:\", err);\r\n        if (err.response?.status === 401 || err.response?.status === 403) {\r\n             setErrorProfile('Session expired or invalid. Please log in again.');\r\n             localStorage.removeItem('token'); // Clear invalid token\r\n             // Optionally redirect to login\r\n        } else {\r\n            setErrorProfile(err.message || 'An error occurred while fetching user data.');\r\n        }\r\n      } finally {\r\n        setIsLoadingProfile(false);\r\n      }\r\n    };\r\n\r\n    fetchUserData();\r\n  }, []); // Empty dependency array ensures this runs only once on mount\r\n\r\n  // Function to fetch gains\r\n  const fetchGains = async () => {\r\n    setIsLoadingGains(true);\r\n    setErrorGains(null);\r\n    setGainsData([]); // Clear previous gains\r\n    const token = localStorage.getItem('token');\r\n\r\n    if (!token) {\r\n        setErrorGains('Authentication token missing.');\r\n        setIsLoadingGains(false);\r\n        return;\r\n    }\r\n\r\n    try {\r\n        // const response = await axios.get('https://www.backend.dsp5-archi-f24a-15m-g8.fr/api/user/my-gains', {\r\n          const response = await axios.get(`${process.env.REACT_APP_API_URL}/user/my-gains`, {\r\n            headers: { 'Authorization': `Bearer ${token}` }\r\n        });\r\n\r\n        if (response.data.success) {\r\n            setGainsData(response.data.gains); // Assuming backend returns { success: true, gains: [...] }\r\n        } else {\r\n            // Handle cases where success is false but not an error (e.g., no gains found)\r\n             setErrorGains(response.data.message || 'Could not fetch winnings.');\r\n        }\r\n    } catch (err) {\r\n        console.error(\"Error fetching gains:\", err);\r\n         if (err.response?.status === 401 || err.response?.status === 403) {\r\n             setErrorGains('Session expired or invalid. Please log in again.');\r\n             localStorage.removeItem('token'); \r\n        } else {\r\n            setErrorGains(err.message || 'An error occurred while fetching winnings.');\r\n        }\r\n    } finally {\r\n        setIsLoadingGains(false);\r\n    }\r\n  };\r\n\r\n  // Fetch gains when component mounts after profile is loaded\r\n  useEffect(() => {\r\n    if (userData) { // Only fetch gains if user data is available\r\n        fetchGains();\r\n    }\r\n  }, [userData]); // Rerun when userData changes (i.e., after initial load)\r\n\r\n  const handleEditToggle = () => {\r\n    setIsEditing(!isEditing);\r\n    setUpdateSuccess(null); // Clear messages\r\n    setUpdateError(null);\r\n    if (!isEditing && userData) {\r\n        setFormData(userData); // Reset form data on entering edit mode\r\n    }\r\n  };\r\n\r\n  const handleFormChange = (e) => {\r\n    setFormData({ ...formData, [e.target.name]: e.target.value });\r\n    setUpdateSuccess(null); // Clear messages\r\n    setUpdateError(null);\r\n  };\r\n\r\n  const handleProfileUpdate = async (e) => {\r\n    e.preventDefault();\r\n    setIsLoadingProfile(true);\r\n    setUpdateSuccess(null);\r\n    setUpdateError(null);\r\n    const token = localStorage.getItem('token');\r\n\r\n    if (!token) {\r\n      setUpdateError('Authentication token missing.');\r\n      setIsLoadingProfile(false);\r\n      return;\r\n    }\r\n\r\n    // Send the entire formData, but filter out specific non-editable fields\r\n    const payload = { ...formData };\r\n    delete payload._id; \r\n    delete payload.email; \r\n    delete payload.userType; \r\n    delete payload.createdAt;\r\n    delete payload.updatedAt;\r\n    delete payload.__v;\r\n    // If password change is handled separately, ensure it's not sent here\r\n    delete payload.password; \r\n    // Add any other fields that should NEVER be sent from the client\r\n\r\n    try {\r\n      const response = await axios.put(`${process.env.REACT_APP_API_URL}/user/updateprofile`, payload, {\r\n        headers: { 'Authorization': `Bearer ${token}` }\r\n      });\r\n\r\n      if (response.data.success) {\r\n        setUserData(response.data.user); \r\n        setFormData(response.data.user); \r\n        setIsEditing(false);\r\n        setUpdateSuccess('Profil mis à jour avec succès!');\r\n      } else {\r\n        throw new Error(response.data.message || 'Failed to update profile.');\r\n      }\r\n    } catch (err) {\r\n      console.error(\"Error updating profile:\", err);\r\n      setUpdateError(err.response?.data?.message || err.message || 'An error occurred while updating profile.');\r\n    } finally {\r\n      setIsLoadingProfile(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <DashboardLayout userType=\"client\">\r\n      {/* Page specific content removed, integrated below */}\r\n      <h1 className=\"text-2xl font-semibold text-gray-900 mb-6\">\r\n        Bienvenue sur votre Espace Profil\r\n      </h1>\r\n\r\n      {isLoadingProfile && !userData && <p className=\"text-gray-600\">Chargement de vos informations...</p>}\r\n      \r\n      {errorProfile && (\r\n           <div className=\"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6\" role=\"alert\">\r\n                <span className=\"block sm:inline\">{errorProfile}</span>\r\n            </div>\r\n      )}\r\n\r\n      {userData && !isLoadingProfile && !errorProfile && (\r\n        <div className=\"grid grid-cols-1 gap-8\">\r\n          {/* User Info Card */}\r\n          <div className=\"bg-white p-6 rounded-lg shadow-md border border-gray-200\">\r\n            <div className=\"flex justify-between items-center mb-6\">\r\n                <h3 className=\"text-xl font-semibold text-gray-800\">Mes Informations</h3>\r\n                <button \r\n                    onClick={handleEditToggle}\r\n                    className={`px-4 py-1 border border-transparent text-sm font-medium rounded-md shadow-sm ${isEditing ? 'text-gray-700 bg-gray-200 hover:bg-gray-300' : 'text-white bg-teal-600 hover:bg-teal-700'}`}\r\n                >\r\n                    {isEditing ? 'Annuler' : 'Modifier'}\r\n                </button>\r\n            </div>\r\n\r\n            {updateSuccess && (\r\n                <div className=\"bg-green-100 border border-green-400 text-green-700 px-4 py-2 rounded relative mb-4 text-sm\" role=\"alert\">\r\n                    {updateSuccess}\r\n                </div>\r\n            )}\r\n            {updateError && (\r\n                <div className=\"bg-red-100 border border-red-400 text-red-700 px-4 py-2 rounded relative mb-4 text-sm\" role=\"alert\">\r\n                    {updateError}\r\n                </div>\r\n            )}\r\n\r\n            {!isEditing ? (\r\n                // --- Display Mode (Enhanced) ---\r\n                <div className=\"space-y-4\">\r\n                    <div className=\"flex items-center p-3 border-b border-gray-100\">\r\n                        <ProfileIcon className=\"h-4 w-4 text-gray-500 mr-3\" /> \r\n                        <span className=\"text-gray-600 font-medium mr-2\">Nom d'utilisateur:</span>\r\n                        <span className=\"text-gray-800\">{userData.userName}</span>\r\n                    </div>\r\n                    <div className=\"flex items-center p-3 border-b border-gray-100\">\r\n                        <EmailIcon className=\"h-4 w-4 text-gray-500 mr-3\" /> \r\n                        <span className=\"text-gray-600 font-medium mr-2\">Email:</span>\r\n                        <span className=\"text-gray-800\">{userData.email}</span>\r\n                    </div>\r\n                    <div className=\"flex items-center p-3\">\r\n                        <TelephoneIcon className=\"h-4 w-4 text-gray-500 mr-3\" /> \r\n                        <span className=\"text-gray-600 font-medium mr-2\">Téléphone:</span>\r\n                        <span className=\"text-gray-800\">{userData.phone || 'Non renseigné'}</span>\r\n                    </div>\r\n                </div>\r\n            ) : (\r\n                // --- Edit Mode Form ---\r\n                <form className=\"space-y-4\" onSubmit={handleProfileUpdate}>\r\n                    <div>\r\n                        <label htmlFor=\"userName\" className=\"block text-sm font-medium text-gray-700\">Nom d'utilisateur</label>\r\n                        <input\r\n                            type=\"text\"\r\n                            name=\"userName\"\r\n                            id=\"userName\"\r\n                            required\r\n                            value={formData.userName || ''}\r\n                            onChange={handleFormChange}\r\n                            className=\"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-teal-500 focus:border-teal-500 sm:text-sm\"\r\n                        />\r\n                    </div>\r\n                    <div>\r\n                        <label htmlFor=\"email\" className=\"block text-sm font-medium text-gray-700\">Email</label>\r\n                        <input\r\n                            type=\"email\"\r\n                            name=\"email\"\r\n                            id=\"email\"\r\n                            value={formData.email || ''}\r\n                            readOnly\r\n                            className=\"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm bg-gray-100 cursor-not-allowed focus:outline-none sm:text-sm\"\r\n                        />\r\n                    </div>\r\n                    <div>\r\n                        <label htmlFor=\"phone\" className=\"block text-sm font-medium text-gray-700\">Téléphone</label>\r\n                        <input\r\n                            type=\"tel\" // Use tel type for phone numbers\r\n                            name=\"phone\"\r\n                            id=\"phone\"\r\n                            value={formData.phone || ''}\r\n                            onChange={handleFormChange}\r\n                            className=\"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-teal-500 focus:border-teal-500 sm:text-sm\"\r\n                            placeholder=\"e.g., 06 12 34 56 78\"\r\n                        />\r\n                    </div>\r\n                    {/* Add other editable fields here */}\r\n                    \r\n                    {/* Consider adding password change separately */} \r\n                    \r\n                    <div className=\"flex justify-end gap-4 mt-6\">\r\n                      <button\r\n                        type=\"button\"\r\n                        onClick={handleEditToggle}\r\n                        className=\"px-4 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300 transition duration-150 ease-in-out\"\r\n                      >\r\n                        Annuler\r\n                      </button>\r\n                      <button\r\n                        type=\"submit\"\r\n                        className=\"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition duration-150 ease-in-out\"\r\n                        disabled={isLoadingProfile} // Reuse profile loading state for update\r\n                      >\r\n                        {isLoadingProfile ? 'Sauvegarde...' : 'Sauvegarder les modifications'}\r\n                      </button>\r\n                    </div>\r\n                </form>\r\n            )}\r\n\r\n            {updateSuccess && (\r\n              <div className=\"mt-4 bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded relative\" role=\"alert\">\r\n                  <span className=\"block sm:inline\">{updateSuccess}</span>\r\n              </div>\r\n            )}\r\n            {updateError && (\r\n              <div className=\"mt-4 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative\" role=\"alert\">\r\n                  <span className=\"block sm:inline\">{updateError}</span>\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          {/* Gains Section */}\r\n          <div className=\"mt-8 bg-white p-6 rounded-lg shadow-md border border-gray-200\">\r\n              <h3 className=\"text-xl font-semibold text-gray-800 mb-4\">Mes Gains Passés</h3>\r\n\r\n              {isLoadingGains && <p className=\"text-gray-600\">Chargement des gains...</p>}\r\n\r\n              {errorGains && (\r\n                  <div className=\"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-4\" role=\"alert\">\r\n                      <span className=\"block sm:inline\">Erreur lors du chargement des gains: {errorGains}</span>\r\n                  </div>\r\n              )}\r\n\r\n              {!isLoadingGains && !errorGains && (\r\n                  gainsData.length > 0 ? (\r\n                      <ul className=\"space-y-4\">\r\n                          {gainsData.map((gain) => (\r\n                              <li key={gain._id} className=\"border-b border-gray-200 pb-4 last:border-b-0\">\r\n                                  <div className=\"flex items-center space-x-3\">\r\n                                      <GainTicketIcon className=\"h-6 w-6 text-indigo-500\" />\r\n                                      <span className=\"font-medium text-gray-700\">Code Ticket:</span>\r\n                                      <span className=\"text-gray-900\">{gain.ticketNumber}</span>\r\n                                  </div>\r\n                                  <div className=\"flex items-center space-x-3 mt-2\">\r\n                                      <GainPrizeIcon className=\"h-6 w-6 text-green-500\" />\r\n                                      <span className=\"font-medium text-gray-700\">Lot:</span>\r\n                                      <span className=\"text-gray-900\">{gain.prizeWon} ({gain.prizeValue}€)</span>\r\n                                  </div>\r\n                                  <div className=\"flex items-center space-x-3 mt-2\">\r\n                                      <GainCalendarIcon className=\"h-6 w-6 text-blue-500\" />\r\n                                      <span className=\"font-medium text-gray-700\">Date:</span>\r\n                                      <span className=\"text-gray-600 text-sm\">\r\n                                          {new Date(gain.createdAt).toLocaleDateString('fr-FR', {\r\n                                              year: 'numeric', month: 'long', day: 'numeric', \r\n                                              hour: '2-digit', minute: '2-digit' \r\n                                          })}\r\n                                      </span>\r\n                                  </div>\r\n                              </li>\r\n                          ))}\r\n                      </ul>\r\n                  ) : (\r\n                      <p className=\"text-gray-600\">Vous n'avez pas encore enregistré de gains.</p>\r\n                  )\r\n              )}\r\n          </div>\r\n        </div>\r\n      )}\r\n    </DashboardLayout>\r\n  );\r\n}\r\n\r\nexport default ClientDashboard;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}